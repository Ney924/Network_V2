{"version":3,"sources":["components/api/api.js","components/Redux/dialogs-reducer.js","components/Redux/users-reducer.js","components/Redux/auth-reducer.js","components/Redux/app-reducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/NavBar/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Login/Login.jsx","components/Login/LoginForm.jsx","App.js","components/Redux/redux-store.js","index.js","components/common/preloader/Preloader.jsx","components/common/formsControls/formsControls.js","components/Redux/profile-reducer.js"],"names":["instance","axios","baseURL","withCredentials","headers","usersAPI","getUsersPage","currentPage","pagesSize","get","then","response","data","getUsersUnSubscribe","id","delete","getUsersSubscribe","post","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","addPhoto","photoFile","formData","FormData","append","authAPI","getAuthMe","login","email","password","rememberMe","logout","SEND_MESSAGE","initialState","dialogsData","name","messagesData","message","addMessageAC","newMessageBody","type","dialogsReducer","state","action","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","usersData","totalCount","isFetching","followingInProgress","portionSize","follow","unFollow","setUsers","users","setCurrentPage","setTotalCount","setIsFetching","toggleFollowingProgress","setUsersTC","dispatch","a","items","onPageChangedTC","pageNumber","followUnfollowFlow","metodApi","actionCreator","resultCode","followTC","bind","unFollowTC","usersReducer","map","u","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","setAuthUserDataTC","authReducer","SET_INITIALAZE","initialazed","appReducer","Header","props","className","src","onClick","logoutTC","to","HeaderContainer","this","React","Component","connect","auth","NavBar","activeClassName","News","useState","count","setCount","Music","useEffect","document","title","Settings","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","createFielfInput","error","loginTC","messageError","messages","length","stopSubmit","_error","ProfileContainer","lazy","DialogsContainer","UsersContainer","App","initialazeAppTC","initialize","path","render","fallback","Preloader","component","Login","compose","app","promise","Promise","all","withRouter","redusers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","getElementById","Input","input","meta","touched","placeholder","ADD_POST","SET_PROFILE_PAGE","SET_STATUS","UPDATE_STATUS","DELETE_POST","ADD_PHOTO","postData","like","profile","addPostAC","newPostText","setUserStatus","setPhoto","photos","setProfilePageTC","getUserStatusTC","updateUserStatusTC","saveFotoTC","p"],"mappings":"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","file":"static/js/main.2cfa6281.chunk.js","sourcesContent":["import React from 'react';\r\nimport * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n            baseURL: 'https://social-network.samuraijs.com/api/1.0/' , \r\n            withCredentials: true,\r\n            headers: {\"API-KEY\" : \"879087b0-6726-4a3a-b345-a3063ffa34d8\"},\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n        getUsersPage (currentPage, pagesSize) {                                   //Вывод юзеров, постранично                        \r\n                return instance.get(`users?page=${currentPage}&count=${pagesSize}`)\r\n        .       then(response => {return response.data}) \r\n        },\r\n        getUsersUnSubscribe (id) {                                              //Отписаться от юзера\r\n                return instance.delete(`follow/${id}`)\r\n                .then(response => {return response.data})                                                          \r\n        },\r\n        getUsersSubscribe (id) {                                                //Подписаться  на юзера\r\n                return instance.post(`follow/${id}`)\r\n                .then(response => {return response.data})                                                          \r\n        }\r\n}\r\n\r\nexport const profileAPI = {\r\n        getProfile (userId) {                                                   //Показать профиль выбранного пользователя\r\n                return instance.get(`profile/` + userId)\r\n                .then(response => {return response.data})\r\n        },\r\n        getStatus (userId) {                                                   //Показать профиль выбранного пользователя\r\n                return instance.get(`profile/status/` + userId)\r\n                .then(response => {return response.data})\r\n        },\r\n        updateStatus (status) {                                                   //Показать профиль выбранного пользователя\r\n                return instance.put(`profile/status`, {status: status})\r\n                .then(response => {return response.data})\r\n        },\r\n        addPhoto (photoFile) {                                                   //Показать профиль выбранного пользователя\r\n                const formData = new FormData();\r\n                formData.append('image', photoFile)\r\n                return instance.put(`profile/photo`, formData, {\r\n                        headers: {\r\n                                'Content-Type': 'multipart/form-data'\r\n                        }\r\n                }\r\n                )\r\n                .then(response => {return response.data})\r\n        },\r\n}\r\n\r\nexport const authAPI = {\r\n        getAuthMe() {                                                             //Войти в соц сеть под своим именем\r\n                return instance.get(`auth/me`)\r\n                .then(response => {return response.data})  //!ПРОМИС .then ПРОЧИТАТЬ КАК ЭТЬО РАБОТАЕТ\r\n        },\r\n        login(email, password, rememberMe = false) {                               //логинимся в свой профиль                         \r\n                return instance.post(`auth/login`, {email, password, rememberMe})\r\n                .then(response => {return response.data}) \r\n        },\r\n        logout() {                                                             //Выходим из профиля\r\n                return instance.delete(`auth/login`)\r\n                .then(response => {return response.data}) \r\n        },\r\n}\r\n\r\nexport const dialogsAPI = {}\r\n","let SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n                dialogsData: [\r\n                        {id: 1, name: 'Ilya'},\r\n                        {id: 2, name: 'Anna'},\r\n                        {id: 3, name: 'Aleksey'},\r\n                        {id: 4, name: 'Egor'},\r\n                        {id: 5, name: 'Konstantin'},\r\n                ],\r\n                messagesData: [\r\n                        {id: 1, message: 'Привет'},\r\n                        {id: 2, message: 'Как дела'},\r\n                        {id: 3, message: 'Учу реакт'},\r\n                ],\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case SEND_MESSAGE:\r\n                        return {\r\n                                ...state,\r\n                                messagesData: [...state.messagesData, {id: 5, message: action.messagesData}],  //добавляем новое сообщение\r\n                        }  \r\n                default:\r\n                        return state;\r\n        }\r\n}\r\n\r\nexport let addMessageAC = (newMessageBody) => { return {type: SEND_MESSAGE, messagesData: newMessageBody} }\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\n/* const dialogsReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case SEND_MESSAGE:\r\n                        return {\r\n                                ...state,\r\n                                messagesData: [...state.messagesData, {id: 5, message: state.newMessageText,}],\r\n                                newTextMessage: '',\r\n                        }  \r\n                case UPDATE_NEW_MESSAGE_TEXT: \r\n                        return {\r\n                                ...state,\r\n                                newMessageText: action.newTextMessage,\r\n                        };\r\n                default:\r\n                        return state;\r\n        }\r\n} */\r\n\r\n","import { usersAPI } from '../api/api';\r\n\r\nlet FOLLOW = 'users/FOLLOW';\r\nlet UNFOLLOW = 'users/UNFOLLOW';\r\nlet SET_USERS = 'users/SET_USERS';\r\nlet SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nlet SET_TOTAL_COUNT = 'users/SET_TOTAL_COUNT';\r\nlet TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n        usersData: [],\r\n        pagesSize: 50,\r\n        totalCount: 0,\r\n        currentPage: 1,\r\n        isFetching: false,\r\n        followingInProgress: [],\r\n        portionSize: 10,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case FOLLOW:\r\n                        return {\r\n                                ...state,\r\n                                usersData: state.usersData.map(u => {\r\n                                        if (u.id === action.userId) {\r\n                                                return { ...u, follow: true };\r\n                                        }\r\n                                        return u;\r\n                                }),\r\n                        }\r\n                case UNFOLLOW:\r\n                        return {\r\n                                ...state,\r\n                                usersData: state.usersData.map(u => {\r\n                                        if (u.id === action.userId) {\r\n                                                return { ...u, follow: false };\r\n                                        }\r\n                                        return u;\r\n                                }),\r\n                        }\r\n                case SET_USERS:\r\n                        return {\r\n                                ...state, usersData: [...action.users]\r\n                        }\r\n                case SET_CURRENT_PAGE:\r\n                        return {\r\n                                ...state, currentPage: action.currentPage\r\n                        }\r\n                case SET_TOTAL_COUNT:\r\n                        return {\r\n                                ...state, totalCount: action.totalCount\r\n                        }\r\n                case TOGGLE_IS_FETCHING:\r\n                        return {\r\n                                ...state, isFetching: action.isFetching\r\n                        }\r\n                case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n                        return {\r\n                                ...state, followingInProgress: action.isFetching\r\n                                        ? [...state.followingInProgress, action.userId]\r\n                                        : state.followingInProgress.filter(id => id != action.userId)\r\n                        }\r\n                default:\r\n                        return state;\r\n        }\r\n}\r\n\r\n//!ActionCreators\r\nexport const follow = (userId) => { return { type: FOLLOW, userId } }\r\nexport const unFollow = (userId) => { return { type: UNFOLLOW, userId } }\r\nexport const setUsers = (users) => { return { type: SET_USERS, users } }\r\nexport const setCurrentPage = (currentPage) => { return { type: SET_CURRENT_PAGE, currentPage } }\r\nexport const setTotalCount = (totalCount) => { return { type: SET_TOTAL_COUNT, totalCount } }\r\nexport const setIsFetching = (isFetching) => { return { type: TOGGLE_IS_FETCHING, isFetching } }\r\nexport const toggleFollowingProgress = (isFetching, userId) => { return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId } }\r\n\r\n//!ThunkCreator\r\nexport const setUsersTC = (currentPage, pagesSize) => async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        const data = await usersAPI.getUsersPage(currentPage, pagesSize)\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n}\r\nexport const onPageChangedTC = (pageNumber, pagesSize) => async (dispatch) => {\r\n        dispatch(setCurrentPage(pageNumber));\r\n        dispatch(setIsFetching(true));\r\n        const data = await usersAPI.getUsersPage(pageNumber, pagesSize)\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, metodApi, actionCreator) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        const data = await metodApi(userId)\r\n        if (data.resultCode == 0) {\r\n                dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n\r\n}\r\nexport const followTC = (id) => async (dispatch) => {\r\n        followUnfollowFlow(dispatch, id, usersAPI.getUsersUnSubscribe.bind(usersAPI), unFollow);\r\n}\r\nexport const unFollowTC = (id) => async (dispatch) => {\r\n        followUnfollowFlow(dispatch, id, usersAPI.getUsersSubscribe.bind(usersAPI), follow);\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n\r\n\r\n\r\n//! ДО РЕФАКТОРИНГА!\r\n/*export const followTC = (id) => async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, id))\r\n        const data = await usersAPI.getUsersUnSubscribe(id)\r\n        if (data.resultCode == 0) {\r\n                dispatch(unFollow(id))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, id))\r\n}\r\n\r\nexport const unFollowTC = (id) => async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, id))\r\n        const data = await usersAPI.getUsersSubscribe(id)\r\n        if (data.resultCode == 0) {\r\n                dispatch(follow(id))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, id))\r\n} */","import { authAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form'\r\n\r\nlet SET_USER_DATA = 'auth/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n        userId: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case SET_USER_DATA:\r\n                        return {\r\n                                ...state,\r\n                                ...action.payload,\r\n                        }\r\n                default:\r\n                        return state;\r\n        }\r\n}\r\n\r\n//!ActionCreators\r\nexport let setAuthUserData = (userId, email, login, isAuth) => { return { type: SET_USER_DATA, payload: { userId, email, login, isAuth } } }\r\n\r\n//!ThunkCreator\r\nexport let setAuthUserDataTC = () => async (dispatch) => {\r\n        const data = await authAPI.getAuthMe()\r\n                if (data.resultCode === 0) {\r\n                        let { id, email, login } = data.data;\r\n                        dispatch(setAuthUserData(id, email, login, true));\r\n                }\r\n}\r\n\r\nexport let loginTC = (email, password, rememberMe) => async (dispatch) => {\r\n        const data = await authAPI.login(email, password, rememberMe)\r\n                if (data.resultCode === 0) {\r\n                        dispatch(setAuthUserDataTC())\r\n                }\r\n                else {\r\n                        let messageError = data.messages.length > 0 ? data.messages[0]: 'Ошибка'\r\n                        let action = stopSubmit('login', { _error: messageError });\r\n                        dispatch(action)\r\n                }\r\n}\r\n\r\nexport let logoutTC = () => async (dispatch) => {\r\n        const data = await authAPI.logout()\r\n                if (data.resultCode === 0) {\r\n                        dispatch(setAuthUserData(null, null, null, false))\r\n                }   \r\n        }\r\n\r\nexport default authReducer;\r\n\r\n","import { authAPI } from '../api/api';\r\nimport { setAuthUserDataTC } from './auth-reducer'\r\n\r\nlet SET_INITIALAZE = 'app/SET_INITIALAZE';\r\n\r\nlet initialState = {\r\n        initialazed: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case SET_INITIALAZE:\r\n                        return {\r\n                                ...state,\r\n                                initialazed: true,\r\n                        }\r\n                default:\r\n                        return state;\r\n        }\r\n}\r\n\r\n//!ActionCreators\r\nexport let setInizialaze = () => { return { type: SET_INITIALAZE } }\r\n\r\n//!ThunkCreator\r\nexport let initialazeAppTC = () => (dispatch) => {\r\n        let promise = dispatch(setAuthUserDataTC())\r\n        Promise.all([promise])\r\n                .then(() => {\r\n                        dispatch(setInizialaze())\r\n                })\r\n}\r\n\r\nexport default appReducer;\r\n\r\n\r\n\r\n/* export let loginTC = (email, password, rememberMe) => {\r\n        return (dispatch) => {\r\n                authAPI.login(email, password, rememberMe).then(data => {\r\n                        if (data.resultCode === 0) {\r\n                                dispatch(setAuthUserDataTC())\r\n                        }\r\n                        else {\r\n                                let messageError = data.messages.length > 0 ? data.messages[0]: 'Ошибка'\r\n                                let action = stopSubmit('login', { _error: messageError });\r\n                                dispatch(action)\r\n                        }\r\n                });\r\n        }\r\n}\r\nexport let logoutTC = () => {\r\n        return (dispatch) => {\r\n                authAPI.logout().then(data => {\r\n                        if (data.resultCode === 0) {\r\n                                dispatch(setAuthUserData(null, null, null, false))\r\n                        }\r\n                });\r\n        }\r\n} */","import React from \"react\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport './Header.css'\r\n\r\nconst Header = (props) => {        \r\n        return (\r\n                <div className='header'>\r\n                        <img src='https://cdn.logo.com/hotlink-ok/logo-social-sq.png' />\r\n\r\n                        <div className='login-blok'>\r\n                                {\r\n                                        props.isAuth\r\n                                                ? <div className='login-blok-button'> \r\n                                                        <span>{props.login} </span>\r\n                                                        <button onClick={props.logoutTC} className='login-button'> Выйти </button>\r\n                                                </div>\r\n                                                : <NavLink to={'/login'}> <button className='login-blok-button'> Login </button> </NavLink>\r\n                                }\r\n                        </div>\r\n                </div>\r\n        );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutTC} from '../Redux/auth-reducer';\r\nimport Header from \"./Header\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n              \r\n        render () {\r\n                return <Header {...this.props}/>\r\n        }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n})\r\n\r\nexport default connect (mapStateToProps, \r\n        {logoutTC})(HeaderContainer);","import React from 'react';\r\nimport './NavBar.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nconst NavBar = () => {\r\n        return (\r\n                <nav className='nav'>\r\n                        <div className='item'>\r\n                                <NavLink to='/profile' activeClassName='active-link'>Профиль</NavLink>\r\n                        </div>\r\n                        <div className='item'>\r\n                                <NavLink to='/dialogs' activeClassName='active-link'>Сообщения</NavLink>\r\n                        </div>\r\n                        <div className='item'>\r\n                                <NavLink to='/users' activeClassName='active-link'>Друзья</NavLink>\r\n                        </div>\r\n                        <div className='item'>\r\n                                <NavLink to='/news' activeClassName='active-link'>Новости</NavLink>\r\n                        </div>\r\n                        <div className='item'>\r\n                                <NavLink to='/music' activeClassName='active-link'>Музыка</NavLink>\r\n                        </div>\r\n                        <div className='item'>\r\n                                <NavLink to='/settings' activeClassName='active-link'>Настройки</NavLink>\r\n                        </div>\r\n                </nav>\r\n        );\r\n}\r\n\r\n\r\nexport default NavBar;","import React, { useState } from 'react';\r\n\r\nfunction News() {\r\n  // Объявление переменной состояния, которую мы назовём \"count\"\r\n  const [count, setCount] = useState(0);\r\n\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <p>Вы кликнули {count} раз</p>\r\n      <button onClick={() => setCount(count + 1)}>\r\n        Нажми на меня\r\n      </button>\r\n      <button onClick={() => setCount(count - 5)}>\r\n       На меня не нажимай!\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default News","import React, { useState, useEffect } from 'react';\r\n\r\nconst Music = () => {\r\n        const [count, setCount] = useState(0);\r\n      \r\n        // По принципу componentDidMount и componentDidUpdate:\r\n        useEffect(() => {\r\n          // Обновляем заголовок документа, используя API браузера\r\n          document.title = `Вы нажали ${count} раз`;\r\n        });\r\n      \r\n        return (\r\n          <div>\r\n            <p>Вы нажали {count} раз</p>\r\n            <button onClick={() => setCount(count + 1)}>\r\n              Нажми на меня\r\n            </button>\r\n          </div>\r\n        );\r\n      }\r\n\r\nexport default Music;\r\n","import React from 'react';\r\n\r\nconst Settings = () => {\r\n        return (\r\n                <div>\r\n                     Settings  \r\n                </div>\r\n        );\r\n}\r\n\r\nexport default Settings","import React from 'react';\r\nimport './Login.css';\r\nimport { reduxForm } from 'redux-form'\r\nimport { LoginForm } from \"./LoginForm\";\r\nimport { connect } from 'react-redux';\r\nimport { loginTC } from '../Redux/auth-reducer';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToProps = (state) => {\r\n        return {\r\n                isAuth: state.auth.isAuth,\r\n        }\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n        const LoginMe = (formData) => {\r\n                props.loginTC(formData.email, formData.password, formData.rememberMe); // тут loginTC это callback, который внутри себя диспатчит thunkCreator с таким же названием loginTC   \r\n        }\r\n\r\n        if (props.isAuth) { return <Redirect to={'/profile'} /> }\r\n\r\n        return (\r\n                <div className='login-user-window'>\r\n                        <h1>Введите свои данные</h1>\r\n                        <LoginReduxForm onSubmit={LoginMe} />\r\n                </div>\r\n\r\n        )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nexport default connect(mapStateToProps, { loginTC })(Login);","import React from 'react';\r\nimport { createFielfInput } from '../common/formsControls/formsControls';\r\nimport './Login.css';\r\n\r\nexport const LoginForm = (props) => {\r\n\r\n        return (\r\n                <form onSubmit={props.handleSubmit}>\r\n                        <div className='login-user'>\r\n                                <div className='login-user-item'>\r\n                                        {createFielfInput('Login', 'input', 'email', 'login-user-input', null)}\r\n                                </div>\r\n                                <div className='login-user-item'>\r\n                                        {createFielfInput('Password', 'input', 'password', 'login-user-input', 'password')}\r\n                                </div>\r\n                                {props.error && <div className='login-error'>\r\n                                        {props.error}\r\n                                </div>}\r\n                                <div className='login-user-item'>\r\n                                        {createFielfInput(null, 'input', 'rememberMe', null, 'checkbox')}\r\n                                        Запомнить меня\r\n                                </div>\r\n                                <div className='login-user-item'>\r\n                                        <button>Login</button>\r\n                                </div>\r\n                        </div>\r\n                </form>\r\n        )\r\n}\r\n\r\n","import React, { Suspense } from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initialazeAppTC } from './components/Redux/app-reducer';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Login from './components/Login/Login';\r\nimport Preloader from './components/common/preloader/Preloader';\r\nconst ProfileContainer = React.lazy(()=>import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(()=>import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(()=>import('./components/Users/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n        componentDidMount() {\r\n                this.props.initialazeAppTC()\r\n        }\r\n        render() {\r\n                if (!this.props.initialize) {\r\n                        return <Preloader/>\r\n                }\r\n                return (\r\n                        <div className=\"app-wrapper content\">\r\n                                <HeaderContainer />\r\n                                <NavBar />\r\n                                <div className='content-board'>\r\n                                        <Route\r\n                                                path='/profile/:userId?'\r\n                                                render={() => <Suspense fallback={<Preloader/>}> <ProfileContainer /> </Suspense>} \r\n                                        />\r\n                                        <Route\r\n                                                path='/dialogs'\r\n                                                render={() => <Suspense fallback={<Preloader/>}> <DialogsContainer /> </Suspense>} \r\n                                        />\r\n                                        <Route\r\n                                                path='/users'\r\n                                                render={() => <Suspense fallback={<Preloader/>}> <UsersContainer /> </Suspense>}  \r\n                                        />\r\n                                        <Route path='/news' component={News} />\r\n                                        <Route path='/music' component={Music} />\r\n                                        <Route path='/settings' component={Settings} />\r\n                                        <Route path='/login' component={Login} />\r\n                                </div>\r\n                        </div>\r\n                )\r\n        }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ initialize: state.app.initialazed })\r\n\r\nexport default compose(\r\n        connect(mapStateToProps, { initialazeAppTC }),\r\n        withRouter)\r\n        (App);","import {createStore, combineReducers, applyMiddleware} from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\n\r\nlet redusers = combineReducers (\r\n        {\r\n                profilePage: profileReducer,\r\n                dialogsPage: dialogsReducer,\r\n                usersPage: usersReducer,\r\n                auth: authReducer,\r\n                form: formReducer,\r\n                app: appReducer,\r\n        }\r\n);\r\n\r\nlet store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store; ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport store from './components/Redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n        <HashRouter /* basename={process.env.PUBLIC_URL} */> {/* не работает  */}\r\n                <Provider store={store}>\r\n                        <App store={store} />\r\n                </Provider>\r\n        </HashRouter>, document.getElementById('root')\r\n);\r\n\r\n\r\n","import React from 'react';\r\nimport './Preloader.css'\r\n\r\nlet Preloader = () => {\r\n        return (\r\n                <div className='preloader'>\r\n                         <img src='https://thumbs.gfycat.com/FatherlyGoodAustrianpinscher-size_restricted.gif'/>\r\n                </div>\r\n        );\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport './formsControls.css'\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n        return (\r\n                <div className='input-form'>\r\n                        <input {...input} {...props} />\r\n                        {meta.touched && meta.error && <span className='error'>{meta.error}'</span>}\r\n                </div>\r\n        )\r\n}\r\n\r\nexport const createFielfInput = (placeholder, component, name, className, type) => {\r\n        return (\r\n                <Field\r\n                        placeholder={placeholder}\r\n                        component={component}\r\n                        name={name}\r\n                        className={className}\r\n                        type={type}\r\n                />\r\n        )\r\n\r\n}","import { profileAPI } from '../api/api';\r\n\r\nlet ADD_POST = 'profile/ADD-POST';\r\nlet SET_PROFILE_PAGE = 'profile/SET_PROFILE_PAGE';\r\nlet SET_STATUS = 'profile/SET_STATUS';\r\nlet UPDATE_STATUS = 'profile/UPDATE_STATUS';\r\nlet DELETE_POST = 'profile/DELETE_POST';\r\nlet ADD_PHOTO = 'profile/ADD_PHOTO';\r\n\r\nlet initialState = {\r\n        postData: [\r\n                { id: 1, post: 'Это мой первый пост', like: 5 },\r\n                { id: 2, post: 'Привет, как у вас дела?', like: 2 },\r\n                { id: 3, post: 'Это мой первый проект на React', like: 10 },\r\n        ],\r\n        profile: null,\r\n        status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n        switch (action.type) {\r\n                case ADD_POST:\r\n                        return {\r\n                                ...state,\r\n                                postData: [...state.postData, { id: 5, post: action.newPostText, like: 25, }],\r\n                        }\r\n                case DELETE_POST: //!ДОБАВИТЬ КНОПКУ\r\n                        return {\r\n                                ...state,\r\n                                postData: [...state.postData.filter(p => !p.action.id)]\r\n                        }\r\n                case SET_PROFILE_PAGE:\r\n                        return {\r\n                                ...state,\r\n                                profile: action.profile,\r\n                        }\r\n                case SET_STATUS:\r\n                        return {\r\n                                ...state,\r\n                                status: action.status,\r\n                        }\r\n                case UPDATE_STATUS:\r\n                        return {\r\n                                ...state,\r\n                                status: action.status,\r\n                        }\r\n                case ADD_PHOTO:\r\n                        debugger;\r\n                        return {\r\n                                ...state, \r\n                                profile: {...state.profile,photos: action.photos}\r\n                        }\r\n                default:\r\n                        return state;\r\n        }\r\n}\r\n\r\n//нужно подправить нейминг\r\n//!ActionCreators\r\nexport let addPostAC = (newPostText) => { return { type: ADD_POST, newPostText } }\r\nexport let deletePostAC = (id) => { return { type: DELETE_POST, id } }\r\nexport let setProfilePage = (profile) => { return { type: SET_PROFILE_PAGE, profile } }\r\nexport let setUserStatus = (status) => { return { type: SET_STATUS, status } }\r\nexport let setPhoto = (photos) => { return { type: ADD_PHOTO, photos } }\r\n\r\n//!ThunkCreator\r\nexport const setProfilePageTC = (userId) => async (dispatch) => {\r\n        const data = await profileAPI.getProfile(userId)\r\n        dispatch(setProfilePage(data));\r\n}\r\n\r\nexport const getUserStatusTC = (userId) => async (dispatch) => {\r\n        const data = await profileAPI.getStatus(userId)\r\n        dispatch(setUserStatus(data));\r\n}\r\n\r\nexport const updateUserStatusTC = (status) => async (dispatch) => {\r\n        const data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) {\r\n                dispatch(setUserStatus(status));\r\n        }\r\n}\r\n\r\nexport const saveFotoTC = (photos) => async (dispatch) => {\r\n        const data = await profileAPI.addPhoto(photos)\r\n        if (data.resultCode === 0) {\r\n                dispatch(setPhoto(data.data.photos));\r\n        }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}